- type: entity
  abstract: true
  id: MobNarsieBase
  name: Nar'Sie
  description: Your mind begins to bubble and ooze as it tries to comprehend what it sees.
  components:
  - type: Sprite
    sprite: Mobs/Demons/narsie.rsi
    drawdepth: Ghosts
    scale: 2.0,2.0
    layers:
    - state: narsie
      shader: unshaded
    overrideContainerOcclusion: true # Always show up regardless of where they're contained.

# spawn animation, spawns actual narsie when it ends
- type: entity
  parent: MobNarsieBase
  id: MobNarsieSpawn
  suffix: Spawn
  components:
  - type: Sprite
    layers:
    - state: spawn
      shader: unshaded
  # spawn animation lasts 3.5 seconds
  - type: TimedDespawn
    lifetime: 3.5
  - type: SpawnOnDespawn
    prototype: MobNarsie

- type: entity
  parent: [MobNarsieBase, MobGodBase]
  id: MobNarsie
  categories: [ HideSpawnMenu ] # use the animation spawners
  components:
  - type: AnnounceOnSpawn
    message: narsie-has-risen
    sender: narsie-has-risen-sender
    sound:
      path: /Audio/Misc/narsie_rises.ogg
    color: red
  - type: WarpPoint
    follow: true
    location: Nar'Sie
  # Nar nar hungers for blood
  - type: ChasingWalk
    minSpeed: 100
    maxSpeed: 200
    chasingComponent:
    - type: Bloodstream
      bloodlossDamage:
        types:
          Bloodloss: 0.5
      bloodlossHealDamage:
        types:
          Bloodloss: -1
    maxChaseRadius: 50
